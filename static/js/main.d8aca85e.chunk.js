(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{34:function(t,e,n){t.exports={loader:"Loader_loader__2ROYr"}},84:function(t,e,n){},85:function(t,e,n){},87:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n.n(a),o=n(10),s=n.n(o),u=n(7),i=(n(45),n(12)),b=n(13),l=n(16),j=n(14),f=n(5),d=n(21),h=n.n(d),O=n(32),m=n(9),p=n.n(m),v=n(2),x=Object(v.b)("contacts/fetchContactsRequest"),C=Object(v.b)("contacts/fetchContactsSuccess"),g=Object(v.b)("contacts/fetchContactsError"),y=Object(v.b)("contacts/addContactsRequest"),N=Object(v.b)("contacts/addContactsSuccess"),w=Object(v.b)("contacts/addContactsError"),k=Object(v.b)("contacts/deleteContactsRequest"),I=Object(v.b)("contacts/deleteContactsSuccess"),S=Object(v.b)("contacts/deleteContactsError"),L=Object(v.b)("contacts/changeFilter");p.a.defaults.baseURL="http://localhost:4040";var F,T,R=function(){return function(){var t=Object(O.a)(h.a.mark((function t(e){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:n=t.sent,c=n.data,e(C(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(g(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},A=function(t,e){return function(n){var c={name:t,number:e};n(y()),p.a.post("/contacts",c).then((function(t){var e=t.data;return n(N(e))})).catch((function(t){return n(w(t))}))}},D=function(t){return function(e){e(k()),p.a.delete("/contacts/".concat(t)).then((function(){return e(I(t))})).catch((function(t){return e(S(t))}))}},E=n(33),q=n.n(E),_=(n(83),n(34)),J=n.n(_),M=function(){return Object(c.jsx)("div",{className:J.a.loader,children:Object(c.jsx)(q.a,{type:"Puff",color:"#629aa9",height:100,width:100,timeout:3e3})})},P=n(11),z=function(t){return t.contacts.loading},B=function(t){return t.contacts.filter},U=Object(P.a)([function(t){return t.contacts.items},B],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),Y=(n(84),function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){var n=e.currentTarget,c=n.name,a=n.value;t.setState(Object(f.a)({},c,a))},t.handleSubmit=function(e){var n=t.state,c=n.name,a=n.number;if(e.preventDefault(),t.state.name||""!==t.state.number)return console.log(t.state),t.props.onSubmit(c,a),void t.reset();console.log("\u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430")},t.reset=function(){t.setState({name:"",number:""})},t}return Object(b.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"wrapper",children:Object(c.jsx)("header",{className:"page-header",children:Object(c.jsxs)("form",{className:"user-info-form",onSubmit:this.handleSubmit,children:[Object(c.jsxs)("label",{className:"label",htmlFor:this.nameInputId,children:["Name",Object(c.jsx)("input",{className:"form-input",type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:this.nameInputId})]}),Object(c.jsxs)("label",{className:"label",htmlFor:this.numberInputId,children:["Number",Object(c.jsx)("input",{className:"form-input",type:"text",name:"number",value:this.state.number,onChange:this.handleChange,id:this.numberInputId})]}),Object(c.jsx)("button",{className:"submit-form-btn",type:"submit",children:"Add Contact"})]})})}),this.props.isLoadingTodos&&Object(c.jsx)(M,{})]})}}]),n}(a.Component)),G=Object(u.b)((function(t){return{isLoadingTodos:z(t)}}),(function(t){return{onSubmit:function(e,n){return t(A(e,n))}}}))(Y),H=(n(85),n(86),function(t){var e=t.items,n=t.onDeleteContact;return Object(c.jsx)("div",{className:"contacts-info-table",children:Object(c.jsx)("ul",{className:"list",children:e.map((function(t){var e=t.id,a=t.name,r=t.number;return Object(c.jsxs)("li",{className:"actions",children:[Object(c.jsxs)("span",{className:"listItemText",children:[a,":"]}),Object(c.jsx)("span",{className:"listItemText",children:r}),Object(c.jsx)("button",{className:"button",type:"button",onClick:function(){return n(e)},children:Object(c.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})})]},e)}))})})}),K=Object(u.b)((function(t){return{items:U(t)}}),(function(t){return{onDeleteContact:function(e){return t(D(e))}}}))(H),Q=(n(87),Object(u.b)((function(t){return{value:B(t)}}),(function(t){return{onChange:function(e){return t(L(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(c.jsxs)("label",{className:"filterLabel",children:["Find contacts by name",Object(c.jsx)("input",{className:"searchInput",type:"text",value:e,onChange:n})]})}))),V=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(G,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(Q,{}),Object(c.jsx)(K,{})]})}}]),n}(a.Component),W=Object(u.b)(null,(function(t){return{fetchContacts:function(){return t(R())}}}))(V),X=n(15),Z=n(4),$=Object(v.c)([],(F={},Object(f.a)(F,C,(function(t,e){return e.payload})),Object(f.a)(F,N,(function(t,e){var n=e.payload;return[].concat(Object(X.a)(t),[n])})),Object(f.a)(F,I,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),F)),tt=Object(v.c)(!1,(T={},Object(f.a)(T,x,(function(){return!0})),Object(f.a)(T,C,(function(){return!1})),Object(f.a)(T,g,(function(){return!1})),Object(f.a)(T,y,(function(){return!0})),Object(f.a)(T,N,(function(){return!1})),Object(f.a)(T,w,(function(){return!1})),Object(f.a)(T,k,(function(){return!0})),Object(f.a)(T,I,(function(){return!1})),Object(f.a)(T,S,(function(){return!1})),T)),et=Object(v.c)("",Object(f.a)({},L,(function(t,e){return e.payload}))),nt=Object(v.c)(null,{}),ct=Object(Z.c)({items:$,filter:et,loading:tt,error:nt}),at=n(35),rt=n.n(at),ot=n(8),st=[].concat(Object(X.a)(Object(v.d)({serializableCheck:{ignoredActions:[ot.a,ot.f,ot.b,ot.c,ot.d,ot.e]}})),[rt.a]),ut=Object(Z.c)({contacts:ct}),it={store:Object(v.a)({reducer:ut,middleware:st,devTools:!1})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(u.a,{store:it.store,children:Object(c.jsx)(W,{})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.d8aca85e.chunk.js.map